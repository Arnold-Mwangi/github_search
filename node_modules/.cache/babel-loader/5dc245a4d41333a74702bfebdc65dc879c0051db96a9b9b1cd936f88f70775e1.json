{"ast":null,"code":"import _slicedToArray from\"/home/user/Development/projects/github-search/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useContext,useState}from'react';import{AppContext}from'../../context/GithubContext';import axios from'axios';import logo from'./logo.svg';import'./css/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var _useContext=useContext(AppContext),dispatch=_useContext.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchQuery=_useState2[0],setsearchQuery=_useState2[1];var _useState3=useState('user'),_useState4=_slicedToArray(_useState3,2),searchType=_useState4[0],setSearchType=_useState4[1];var handleSearch=useCallback(function(){var endpoint=searchType==='user'?'users':'repositories';axios.get(\"https://api.github.com/search/\".concat(endpoint,\"?q=\").concat(searchQuery)).then(function(res){dispatch({type:'SET_USERS',payload:res.data.items});}).catch(function(error){console.error('Error',error);});},[searchQuery,searchType,dispatch]);useEffect(function(){if(!searchQuery.trim()){axios.get(\"https://api.github.com/users/github\").then(function(res){dispatch({type:'SET_USERS',payload:res.data});}).catch(function(error){console.error('Error',error);});}},[dispatch]);var handleSearchButtonClick=function handleSearchButtonClick(){handleSearch();// Call the handleSearch function when the button is clicked\n};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"search...\",value:searchQuery,onChange:function onChange(e){return setsearchQuery(e.target.value);}}),/*#__PURE__*/_jsxs(\"select\",{value:searchType,onChange:function onChange(e){return setSearchType(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{vaue:\"repo\",children:\"Repository\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearchButtonClick,children:\"search\"})]})]})});}export default Header;","map":{"version":3,"names":["useCallback","useEffect","useContext","useState","AppContext","axios","logo","jsx","_jsx","jsxs","_jsxs","Header","_useContext","dispatch","_useState","_useState2","_slicedToArray","searchQuery","setsearchQuery","_useState3","_useState4","searchType","setSearchType","handleSearch","endpoint","get","concat","then","res","type","payload","data","items","catch","error","console","trim","handleSearchButtonClick","className","children","src","alt","placeholder","value","onChange","e","target","vaue","onClick"],"sources":["/home/user/Development/projects/github-search/src/components/header/Header.js"],"sourcesContent":["import {useCallback, useEffect, useContext, useState } from 'react'\nimport { AppContext } from '../../context/GithubContext';\nimport axios from 'axios'\nimport logo from './logo.svg';\nimport './css/style.css';\n\n\n\nfunction Header() {\n    const { dispatch } = useContext(AppContext)\n    const [searchQuery, setsearchQuery] = useState('');\n    const [searchType, setSearchType] = useState('user')\n\n\n    const handleSearch = useCallback(() => {\n        const endpoint = searchType === 'user' ? 'users' : 'repositories'\n        axios\n            .get(`https://api.github.com/search/${endpoint}?q=${searchQuery}`)\n            .then((res) => {\n                dispatch({ type: 'SET_USERS', payload: res.data.items })\n            })\n            .catch((error) => {\n                console.error('Error', error)\n            });\n    }, [searchQuery, searchType, dispatch]);\n\n\n    useEffect(() => {\n\n        if (!searchQuery.trim()) {\n            axios\n                .get(`https://api.github.com/users/github`)\n                .then((res) => {\n                    dispatch({ type: 'SET_USERS', payload: res.data })\n                })\n                .catch((error) => {\n                    console.error('Error', error)\n                });\n\n        }\n\n    }, [dispatch])\n\n    const handleSearchButtonClick = () => {\n        handleSearch(); // Call the handleSearch function when the button is clicked\n    };\n\n\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <img src={logo} className=\"App-logo\" alt=\"logo\" />\n\n                <div>\n                    <input\n                        type='text'\n                        placeholder='search...'\n                        value={searchQuery}\n                        onChange={(e) => setsearchQuery(e.target.value)}\n                    />\n                    <select\n                        value={searchType}\n                        onChange={(e) => setSearchType(e.target.value)}\n                    >\n                        <option value='user'>User</option>\n                        <option vaue='repo'>Repository</option>\n                    </select>\n                    <button onClick={handleSearchButtonClick}>search</button>\n                </div>\n\n            </header>\n        </div>\n    );\n}\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}